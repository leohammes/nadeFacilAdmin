<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:head>
		<title>Nade Fácil Admin</title>
     	<meta name="viewport" content="width=480, initial-scale=1.0"></meta>
    	<link rel="stylesheet" type="text/css" href="/css/3rd/angular-material.min.css"></link>
     	<link rel="stylesheet" type="text/css" href="/css/3rd/bootstrap-3.0.3.min.css"></link>
     	<link rel="stylesheet" type="text/css" href="./../css/insert.css"></link>
		<script src="/js/3rd/angular.min.js"></script>
		<script src="/js/3rd/angular-animate.min.js"></script>
		<script src="/js/3rd/angular-aria.min.js"></script>
		<script src="/js/3rd/angular-messages.min.js"></script>
		<script src="/js/3rd/ui-bootstrap.tpl.min.js"></script>
		<script src="/js/3rd/angular-material.min.js"></script>
		<script src="./../js/main.js"></script>
	</h:head>
	
	<body ng-app="NadeFacilAdminApp" ng-controller="AdminCtrl">
		<h:panelGroup>
			<div class="big-title border-bottom">
				<h1>Card da página #{mainController.getPageDescription(mainController.currentPage)}</h1>
			</div>
			<p:growl id="mensagens" autoUpdate="true" />
			<h:form styleClass="flex-box" enctype="multipart/form-data">
				<div class="insert-form-area">
					<ui:insert name="form" >
						<ui:include src="/form.xhtml" />
				    </ui:insert>
				</div>
				<div class="middle-section-area flex-box">
					<p:commandButton value="Preview" id="preview" update="@form" styleClass="ui-priority-primary default-button" />
					<p:commandButton value="Salvar" id="save" styleClass="ui-priority-primary default-button btn-save" action="#{formController.saveOrUpdate}" />
				</div>
				<div class="card-preview-area">
					<ui:insert name="card" >
					  <ui:include src="/card.xhtml">
					  	<ui:param name="src" value="#{mainController.getImageServletUrl()}?file=#{formController.currentHint.image.name}" />
					  	<ui:param name="title" value="#{formController.currentHint.title}" />
					  	<ui:param name="shortDescription" value="#{formController.currentHint.shortDescription}" />
					  	<ui:param name="btnTitle" value="Editar" />
					  </ui:include>
				    </ui:insert>
				</div>
			</h:form>
		</h:panelGroup>
	</body>
</html>